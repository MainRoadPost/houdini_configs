# Dialog script for mrp::albedo::1.0 automatically generated

{
    name	mrp::albedo::1.0
    script	albedo
    label	"MRP Get BSDF Albedo"

    outercode {
	"#include <voptype.h>"
	"#include <voplib.h>"
	"#include <pbr.h>"
    }

    code {
	"VOPint $components = 0;"
	"if ($diffuse_comp)"
	"    $components |= PBR_DIFFUSE_MASK;"
	"if ($glossy_comp)"
	"    $components |= PBR_GLOSSY_MASK;"
	"if ($volume_comp)"
	"    $components |= PBR_VOLUME_MASK;"
	"if ($sss_comp)"
	"    $components |= PBR_SSS_MASK;"
	"    "
	"VOPvector $ii = ($isconnected_nI != 0) ? $nI : normalize(I);"
	"$albedo = albedo($f, -$ii, $components);"
    }

    input	bsdf	f	BSDF
    input	vector	nI	"Incident Vector"
    output	vector	albedo	Albedo
    inputflags	f	0
    inputflags	nI	0
    signature	"Default Inputs"	default	{ bsdf vector vector }

    outputoverrides	default
    {
	___begin	auto
			(0,0,0)
    }

    help {
	""
    }

    group {
        name    "folder0"
        label   "Bounce Components"

        parm {
            name    "diffuse_comp"
            label   "Diffuse"
            type    toggle
            default { "1" }
            range   { 0 1 }
        }
        parm {
            name    "glossy_comp"
            label   "Glossy"
            type    toggle
            default { "1" }
            range   { 0 1 }
        }
        parm {
            name    "volume_comp"
            label   "Volume"
            type    toggle
            default { "1" }
            range   { 0 1 }
        }
        parm {
            name    "sss_comp"
            label   "SSS"
            type    toggle
            default { "1" }
            range   { 0 1 }
        }
    }

}
